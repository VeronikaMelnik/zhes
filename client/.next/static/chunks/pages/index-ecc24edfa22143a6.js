(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1883)}])},6021:function(e,t,r){"use strict";r.d(t,{$:function(){return s}});var l=r(5893),a=r(2293),o=r(8862),i=r(3832),n=r.n(i);let s=()=>(0,l.jsx)("footer",{className:n().wrapper,children:(0,l.jsx)(a.Z,{position:"static",children:(0,l.jsx)(o.Z,{variant:"h2",fontSize:"1.5rem",children:'"ЖЭС - обращения" \xa9 2022.'})})})},4047:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var l=r(5893),a=r(9008),o=r.n(a);let i=e=>{let{title:t}=e;return(0,l.jsxs)(o(),{children:[(0,l.jsx)("title",{children:t}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/logo.svg"})]})}},7778:function(e,t,r){"use strict";r.d(t,{h:function(){return h}});var l=r(5893),a=r(2293),o=r(155),i=r(3946),n=r(8862),s=r(3321),c=r(1881),d=r.n(c),u=r(5567);let h=e=>{let{token:t,clear:r}=e;return(0,l.jsx)(a.Z,{position:"static",color:"default",children:(0,l.jsxs)(o.Z,{disableGutters:!0,className:d().toolbar,children:[(0,l.jsxs)(i.Z,{color:"primary",href:"/",children:[(0,l.jsx)(u.Z,{fontSize:"large"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.Z,{variant:"h1",fontSize:"1.5rem",children:"\xabЖЭС-обращения\xbb"}),(0,l.jsx)(n.Z,{variant:"h3",fontSize:"0.8rem",children:"Платформа для подачи обращений"})]})]}),(0,l.jsxs)(o.Z,{children:[!t&&(0,l.jsx)(s.Z,{href:"/signIn",children:"Войти"}),!t&&(0,l.jsx)(s.Z,{href:"/signUp",children:"Регистрация"}),!!t&&(0,l.jsx)(s.Z,{onClick:()=>{window.localStorage.clear(),r(null)},children:"Выйти"})]})]})})}},2165:function(e,t,r){"use strict";var l=r(8945);t.Z=new class{async createUser(e){await l.Z.post("".concat(this.baseLink,"/auth/signUp"),e).then(this.auth)}async loginUser(e){await l.Z.post("".concat(this.baseLink,"/auth/signIn"),e).then(this.auth)}async createUserRequest(e){let t=window.localStorage.getItem("token");await l.Z.post("".concat(this.baseLink,"/req"),e,{headers:{Authorization:"Bearer ".concat(t)}})}async getAllUserRequests(){let e=window.localStorage.getItem("token"),t=await l.Z.get("".concat(this.baseLink,"/req"),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{let[t,r]=e.data;return{requests:t,total:r}});return t}async getUserRequest(e){let t=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/req/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{let t=e.data;return t})}async getUserResponse(e){let t=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/req/res/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{let t=e.data;return t})}async getAllUsers(){let e=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/admin"),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{let t=e.data;return t})}async getAllActiveRequestsForUser(e){let t=window.localStorage.getItem("token");return await l.Z.get("".concat(this.baseLink,"/admin/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>{let t=e.data;return t})}async createNewResponse(e,t){let r=window.localStorage.getItem("token");await l.Z.post("".concat(this.baseLink,"/admin/").concat(t),e,{headers:{Authorization:"Bearer ".concat(r)}})}async auth(e){let{role:t,token:r}=await e.data;return window.localStorage.setItem("token",r),window.localStorage.setItem("role",t),{role:t,token:r}}constructor(e){this.baseLink=e}}("http://localhost:5000/api")},1883:function(e,t,r){"use strict";let l;r.r(t),r.d(t,{default:function(){return eZ}});var a,o,i,n,s=r(5893),c=r(4047),d=r(7778),u=r(6021),h=r(629),b=r(2293),f=r(3366),p=r(7462),x=r(7294);r(6607);var g=r(6010),v=r(4780),m=r(8271),w=r(7623),Z=r(2734),j=r(7144);function y(){if(l)return l;let e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),l="reverse",e.scrollLeft>0?l="default":(e.scrollLeft=1,0===e.scrollLeft&&(l="negative")),document.body.removeChild(e),l}function S(e,t){let r=e.scrollLeft;if("rtl"!==t)return r;let l=y();switch(l){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}function C(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var k=r(5340);let R=["onChange"],A={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var B=r(8169),E=(0,B.Z)((0,s.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),M=(0,B.Z)((0,s.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),N=r(8543),I=r(1588),L=r(7621);function W(e){return(0,L.Z)("MuiTabScrollButton",e)}let z=(0,I.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),T=["className","direction","orientation","disabled"],q=e=>{let{classes:t,orientation:r,disabled:l}=e;return(0,v.Z)({root:["root",r,l&&"disabled"]},W,t)},U=(0,m.ZP)(N.Z,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})(({ownerState:e})=>(0,p.Z)({width:40,flexShrink:0,opacity:.8,[`&.${z.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),_=x.forwardRef(function(e,t){let r=(0,w.Z)({props:e,name:"MuiTabScrollButton"}),{className:l,direction:a}=r,n=(0,f.Z)(r,T),c=(0,Z.Z)(),d="rtl"===c.direction,u=(0,p.Z)({isRtl:d},r),h=q(u);return(0,s.jsx)(U,(0,p.Z)({component:"div",className:(0,g.Z)(h.root,l),ref:t,role:null,ownerState:u,tabIndex:null},n,{children:"left"===a?o||(o=(0,s.jsx)(E,{fontSize:"small"})):i||(i=(0,s.jsx)(M,{fontSize:"small"}))}))});var F=r(2068);function P(e){return(0,L.Z)("MuiTabs",e)}let H=(0,I.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var D=r(8038);let $=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],X=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,V=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Y=(e,t,r)=>{let l=!1,a=r(e,t);for(;a;){if(a===e.firstChild){if(l)return;l=!0}let o=a.disabled||"true"===a.getAttribute("aria-disabled");if(!a.hasAttribute("tabindex")||o)a=r(e,a);else{a.focus();return}}},O=e=>{let{vertical:t,fixed:r,hideScrollbar:l,scrollableX:a,scrollableY:o,centered:i,scrollButtonsHideMobile:n,classes:s}=e;return(0,v.Z)({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",l&&"hideScrollbar",a&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",n&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[l&&"hideScrollbar"]},P,s)},G=(0,m.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${H.scrollButtons}`]:t.scrollButtons},{[`& .${H.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>(0,p.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${H.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),K=(0,m.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})(({ownerState:e})=>(0,p.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),J=(0,m.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})(({ownerState:e})=>(0,p.Z)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Q=(0,m.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>(0,p.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),ee=(0,m.ZP)(function(e){let{onChange:t}=e,r=(0,f.Z)(e,R),l=x.useRef(),a=x.useRef(null),o=()=>{l.current=a.current.offsetHeight-a.current.clientHeight};return x.useEffect(()=>{let e=(0,j.Z)(()=>{let e=l.current;o(),e!==l.current&&t(l.current)}),r=(0,k.Z)(a.current);return r.addEventListener("resize",e),()=>{e.clear(),r.removeEventListener("resize",e)}},[t]),x.useEffect(()=>{o(),t(l.current)},[t]),(0,s.jsx)("div",(0,p.Z)({style:A,ref:a},r))},{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),et={},er=x.forwardRef(function(e,t){let r=(0,w.Z)({props:e,name:"MuiTabs"}),l=(0,Z.Z)(),a="rtl"===l.direction,{"aria-label":o,"aria-labelledby":i,action:n,centered:c=!1,children:d,className:u,component:h="div",allowScrollButtonsMobile:b=!1,indicatorColor:v="primary",onChange:m,orientation:R="horizontal",ScrollButtonComponent:A=_,scrollButtons:B="auto",selectionFollowsFocus:E,TabIndicatorProps:M={},TabScrollButtonProps:N={},textColor:I="primary",value:L,variant:W="standard",visibleScrollbar:z=!1}=r,T=(0,f.Z)(r,$),q="scrollable"===W,U="vertical"===R,P=U?"scrollTop":"scrollLeft",H=U?"top":"left",er=U?"bottom":"right",el=U?"clientHeight":"clientWidth",ea=U?"height":"width",eo=(0,p.Z)({},r,{component:h,allowScrollButtonsMobile:b,indicatorColor:v,orientation:R,vertical:U,scrollButtons:B,textColor:I,variant:W,visibleScrollbar:z,fixed:!q,hideScrollbar:q&&!z,scrollableX:q&&!U,scrollableY:q&&U,centered:c&&!q,scrollButtonsHideMobile:!b}),ei=O(eo),[en,es]=x.useState(!1),[ec,ed]=x.useState(et),[eu,eh]=x.useState({start:!1,end:!1}),[eb,ef]=x.useState({overflow:"hidden",scrollbarWidth:0}),ep=new Map,ex=x.useRef(null),eg=x.useRef(null),ev=()=>{let e,t;let r=ex.current;if(r){let a=r.getBoundingClientRect();e={clientWidth:r.clientWidth,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollLeftNormalized:S(r,l.direction),scrollWidth:r.scrollWidth,top:a.top,bottom:a.bottom,left:a.left,right:a.right}}if(r&&!1!==L){let o=eg.current.children;if(o.length>0){let i=o[ep.get(L)];t=i?i.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},em=(0,F.Z)(()=>{let e;let{tabsMeta:t,tabMeta:r}=ev(),l=0;if(U)e="top",r&&t&&(l=r.top-t.top+t.scrollTop);else if(e=a?"right":"left",r&&t){let o=a?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;l=(a?-1:1)*(r[e]-t[e]+o)}let i={[e]:l,[ea]:r?r[ea]:0};if(isNaN(ec[e])||isNaN(ec[ea]))ed(i);else{let n=Math.abs(ec[e]-i[e]),s=Math.abs(ec[ea]-i[ea]);(n>=1||s>=1)&&ed(i)}}),ew=(e,{animation:t=!0}={})=>{t?function(e,t,r,l={},a=()=>{}){let{ease:o=C,duration:i=300}=l,n=null,s=t[e],c=!1,d=()=>{c=!0},u=l=>{if(c){a(Error("Animation cancelled"));return}null===n&&(n=l);let d=Math.min(1,(l-n)/i);if(t[e]=o(d)*(r-s)+s,d>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(u)};return s===r?(a(Error("Element already at target position")),d):(requestAnimationFrame(u),d)}(P,ex.current,e,{duration:l.transitions.duration.standard}):ex.current[P]=e},eZ=e=>{let t=ex.current[P];U?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===y()?-1:1),ew(t)},ej=()=>{let e=ex.current[el],t=0,r=Array.from(eg.current.children);for(let l=0;l<r.length;l+=1){let a=r[l];if(t+a[el]>e){0===l&&(t=e);break}t+=a[el]}return t},ey=()=>{eZ(-1*ej())},eS=()=>{eZ(ej())},eC=x.useCallback(e=>{ef({overflow:null,scrollbarWidth:e})},[]),ek=(0,F.Z)(e=>{let{tabsMeta:t,tabMeta:r}=ev();if(r&&t){if(r[H]<t[H]){let l=t[P]+(r[H]-t[H]);ew(l,{animation:e})}else if(r[er]>t[er]){let a=t[P]+(r[er]-t[er]);ew(a,{animation:e})}}}),eR=(0,F.Z)(()=>{if(q&&!1!==B){let e,t;let{scrollTop:r,scrollHeight:o,clientHeight:i,scrollWidth:n,clientWidth:s}=ex.current;if(U)e=r>1,t=r<o-i-1;else{let c=S(ex.current,l.direction);e=a?c<n-s-1:c>1,t=a?c>1:c<n-s-1}(e!==eu.start||t!==eu.end)&&eh({start:e,end:t})}});x.useEffect(()=>{let e;let t=(0,j.Z)(()=>{ex.current&&(em(),eR())}),r=(0,k.Z)(ex.current);return r.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(eg.current.children).forEach(t=>{e.observe(t)})),()=>{t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}},[em,eR]);let eA=x.useMemo(()=>(0,j.Z)(()=>{eR()}),[eR]);x.useEffect(()=>()=>{eA.clear()},[eA]),x.useEffect(()=>{es(!0)},[]),x.useEffect(()=>{em(),eR()}),x.useEffect(()=>{ek(et!==ec)},[ek,ec]),x.useImperativeHandle(n,()=>({updateIndicator:em,updateScrollButtons:eR}),[em,eR]);let eB=(0,s.jsx)(Q,(0,p.Z)({},M,{className:(0,g.Z)(ei.indicator,M.className),ownerState:eo,style:(0,p.Z)({},ec,M.style)})),eE=0,eM=x.Children.map(d,e=>{if(!x.isValidElement(e))return null;let t=void 0===e.props.value?eE:e.props.value;ep.set(t,eE);let r=t===L;return eE+=1,x.cloneElement(e,(0,p.Z)({fullWidth:"fullWidth"===W,indicator:r&&!en&&eB,selected:r,selectionFollowsFocus:E,onChange:m,textColor:I,value:t},1!==eE||!1!==L||e.props.tabIndex?{}:{tabIndex:0}))}),eN=e=>{let t=eg.current,r=(0,D.Z)(t).activeElement,l=r.getAttribute("role");if("tab"!==l)return;let o="horizontal"===R?"ArrowLeft":"ArrowUp",i="horizontal"===R?"ArrowRight":"ArrowDown";switch("horizontal"===R&&a&&(o="ArrowRight",i="ArrowLeft"),e.key){case o:e.preventDefault(),Y(t,r,V);break;case i:e.preventDefault(),Y(t,r,X);break;case"Home":e.preventDefault(),Y(t,null,X);break;case"End":e.preventDefault(),Y(t,null,V)}},eI=(()=>{let e={};e.scrollbarSizeListener=q?(0,s.jsx)(ee,{onChange:eC,className:(0,g.Z)(ei.scrollableX,ei.hideScrollbar)}):null;let t=eu.start||eu.end,r=q&&("auto"===B&&t||!0===B);return e.scrollButtonStart=r?(0,s.jsx)(A,(0,p.Z)({orientation:R,direction:a?"right":"left",onClick:ey,disabled:!eu.start},N,{className:(0,g.Z)(ei.scrollButtons,N.className)})):null,e.scrollButtonEnd=r?(0,s.jsx)(A,(0,p.Z)({orientation:R,direction:a?"left":"right",onClick:eS,disabled:!eu.end},N,{className:(0,g.Z)(ei.scrollButtons,N.className)})):null,e})();return(0,s.jsxs)(G,(0,p.Z)({className:(0,g.Z)(ei.root,u),ownerState:eo,ref:t,as:h},T,{children:[eI.scrollButtonStart,eI.scrollbarSizeListener,(0,s.jsxs)(K,{className:ei.scroller,ownerState:eo,style:{overflow:eb.overflow,[U?`margin${a?"Left":"Right"}`:"marginBottom"]:z?void 0:-eb.scrollbarWidth},ref:ex,onScroll:eA,children:[(0,s.jsx)(J,{"aria-label":o,"aria-labelledby":i,"aria-orientation":"vertical"===R?"vertical":null,className:ei.flexContainer,ownerState:eo,onKeyDown:eN,ref:eg,role:"tablist",children:eM}),en&&eB]}),eI.scrollButtonEnd]}))});var el=r(8216);function ea(e){return(0,L.Z)("MuiTab",e)}let eo=(0,I.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ei=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],en=e=>{let{classes:t,textColor:r,fullWidth:l,wrapped:a,icon:o,label:i,selected:n,disabled:s}=e,c={root:["root",o&&i&&"labelIcon",`textColor${(0,el.Z)(r)}`,l&&"fullWidth",a&&"wrapped",n&&"selected",s&&"disabled"],iconWrapper:["iconWrapper"]};return(0,v.Z)(c,ea,t)},es=(0,m.ZP)(N.Z,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${(0,el.Z)(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>(0,p.Z)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${eo.iconWrapper}`]:(0,p.Z)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${eo.selected}`]:{opacity:1},[`&.${eo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${eo.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${eo.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${eo.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${eo.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),ec=x.forwardRef(function(e,t){let r=(0,w.Z)({props:e,name:"MuiTab"}),{className:l,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:i,icon:n,iconPosition:c="top",indicator:d,label:u,onChange:h,onClick:b,onFocus:v,selected:m,selectionFollowsFocus:Z,textColor:j="inherit",value:y,wrapped:S=!1}=r,C=(0,f.Z)(r,ei),k=(0,p.Z)({},r,{disabled:a,disableFocusRipple:o,selected:m,icon:!!n,iconPosition:c,label:!!u,fullWidth:i,textColor:j,wrapped:S}),R=en(k),A=n&&u&&x.isValidElement(n)?x.cloneElement(n,{className:(0,g.Z)(R.iconWrapper,n.props.className)}):n,B=e=>{!m&&h&&h(e,y),b&&b(e)},E=e=>{Z&&!m&&h&&h(e,y),v&&v(e)};return(0,s.jsxs)(es,(0,p.Z)({focusRipple:!o,className:(0,g.Z)(R.root,l),ref:t,role:"tab","aria-selected":m,disabled:a,onClick:B,onFocus:E,ownerState:k,tabIndex:m?0:-1},C,{children:["top"===c||"start"===c?(0,s.jsxs)(x.Fragment,{children:[A,u]}):(0,s.jsxs)(x.Fragment,{children:[u,A]}),d]}))});var ed=r(8862);let eu=()=>(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(ed.Z,{variant:"h4",children:"Заголовок новости"}),(0,s.jsx)(ed.Z,{variant:"body1",children:"текст новости"})]});var eh=r(2165);let eb=()=>{let[e,t]=(0,x.useState)([]),[r,l]=(0,x.useState)(""),[a,o]=(0,x.useState)(0),[i,n]=(0,x.useState)(0),[c,d]=(0,x.useState)(!1),[u,b]=(0,x.useState)(0),f=async(t,r)=>{let a=e[r].id;if(b(a),0===i){let s=await eh.Z.getUserRequest(a);l(s.message),d(s.isDone)}o(r),n(0)},p=async(e,t)=>{switch(t){case 0:let r=await eh.Z.getUserRequest(u);l(r.message),d(r.isDone);break;case 1:let a=await eh.Z.getUserResponse(u);l(a.message)}n(t)};return(0,x.useEffect)(()=>{let e=eh.Z.getAllUserRequests();e.then(e=>{t(e.requests),e.requests.length&&(b(e.requests[0].id),eh.Z.getUserRequest(e.requests[0].id).then(e=>{l(e.message),d(e.isDone)}))})},[]),(0,s.jsxs)(h.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",maxHeight:"80vh"},children:[(0,s.jsx)(er,{orientation:"vertical",variant:"scrollable",value:a,onChange:f,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:e.map(e=>(0,s.jsx)(ec,{label:e.title},e.id))}),(0,s.jsxs)(h.Z,{sx:{width:"100%"},variant:"elevation",children:[(0,s.jsxs)(er,{value:i,onChange:p,centered:!0,children:[(0,s.jsx)(ec,{label:"Текст обращения"}),(0,s.jsx)(ec,{label:"Ответ",disabled:!c})]}),(0,s.jsx)(h.Z,{sx:{height:"100%",padding:"1rem"},children:(0,s.jsx)(ed.Z,{variant:"body1",children:r})})]})]})};var ef=r(3157),ep=r(3321);let ex=e=>{let{setValue:t}=e,[r,l]=(0,x.useState)(""),[a,o]=(0,x.useState)("");return(0,s.jsx)(h.Z,{sx:{width:"100%",padding:"1rem",display:"flex",justifyContent:"center"},children:(0,s.jsxs)(h.Z,{variant:"outlined",sx:{padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,s.jsx)(ef.Z,{label:"Заголовок",value:r,onChange:e=>{l(e.currentTarget.value)},type:"text",required:!0}),(0,s.jsx)(ef.Z,{label:"Текст",value:a,type:"text",required:!0,onChange:e=>{o(e.currentTarget.value)}}),(0,s.jsx)(ep.Z,{variant:"contained",onClick:async()=>{try{await eh.Z.createUserRequest({message:a,title:r}),o(""),l(""),t(1)}catch(e){console.log(e)}},children:"Отправить"})]})})},eg=()=>{let[e,t]=(0,x.useState)(0),r=(e,r)=>{t(r)};return(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(b.Z,{position:"static",children:(0,s.jsxs)(er,{value:e,onChange:r,indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[(0,s.jsx)(ec,{label:"Новое обращение",wrapped:!0}),(0,s.jsx)(ec,{label:"Мои обращения"})]})}),0===e&&(0,s.jsx)(ex,{setValue:t}),1===e&&(0,s.jsx)(eb,{})]})},ev=()=>{let[e,t]=(0,x.useState)(0),[r,l]=(0,x.useState)(0),[a,o]=(0,x.useState)([]),[i,n]=(0,x.useState)([]),[c,d]=(0,x.useState)(),[u,b]=(0,x.useState)(""),f=async(e,r)=>{let l=await eh.Z.getAllActiveRequestsForUser(a[r].id);n(l),t(r)},p=(e,t)=>{d(i[t]),console.log(i[t]),l(t)};return(0,x.useEffect)(()=>{eh.Z.getAllUsers().then(e=>{o(e),e.length&&eh.Z.getAllActiveRequestsForUser(e[0].id).then(e=>{n(e),e.length&&d(e[0])})})},[]),(0,s.jsxs)(h.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",maxHeight:"80vh"},children:[(0,s.jsx)(er,{orientation:"vertical",variant:"scrollable",value:e,onChange:f,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:a.map(e=>(0,s.jsx)(ec,{label:e.name},e.id))}),(0,s.jsxs)(h.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",maxHeight:"80vh"},children:[(0,s.jsx)(er,{orientation:"vertical",variant:"scrollable","aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},value:r,onChange:p,children:i.map(e=>(0,s.jsx)(ec,{label:e.title},e.id))}),(0,s.jsxs)(h.Z,{sx:{padding:"1rem",width:"100%"},children:[c&&(0,s.jsx)(ed.Z,{variant:"body1",children:null==c?void 0:c.message}),c&&(0,s.jsx)(ef.Z,{label:"Ответ",value:u,type:"text",required:!0,onChange:e=>{b(e.currentTarget.value)}}),c&&(0,s.jsx)(ep.Z,{variant:"contained",onClick:async()=>{try{await eh.Z.createNewResponse({message:u},c.id);let e=await eh.Z.getAllUsers();o(e),e.length&&eh.Z.getAllActiveRequestsForUser(e[0].id).then(e=>{n(e),e.length&&d(e[0])}),b("")}catch(t){console.log(t)}},children:"Ответить"})]})]})]})},em=()=>(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(ed.Z,{variant:"h4",children:"Заголовок"}),(0,s.jsx)(ed.Z,{variant:"body1",children:"текст"})]}),ew=()=>(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(ed.Z,{variant:"h4",children:"Способ связи"}),(0,s.jsx)(ed.Z,{variant:"body1",children:"контакты"})]});function eZ(){let[e,t]=(0,x.useState)(0),[r,l]=(0,x.useState)(null),[a,o]=(0,x.useState)(n.USER);(0,x.useEffect)(()=>{let e=window.localStorage.getItem("token"),t=window.localStorage.getItem("role");l(e),t===n.ADMIN&&o(t)},[]);let i=(e,r)=>{t(r)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.I,{title:"ЖЭС-Обращения"}),(0,s.jsx)(d.h,{token:r,clear:l}),(0,s.jsxs)(h.Z,{variant:"outlined",children:[(0,s.jsx)(b.Z,{position:"static",children:(0,s.jsxs)(er,{value:e,onChange:i,indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[(0,s.jsx)(ec,{label:"Новости",wrapped:!0}),(0,s.jsx)(ec,{label:"Отправить обращение",disabled:!r||a===n.ADMIN}),(0,s.jsx)(ec,{label:"Ответы",disabled:a!==n.ADMIN}),(0,s.jsx)(ec,{label:"О нас"}),(0,s.jsx)(ec,{label:"Контакты"})]})}),0===e&&(0,s.jsx)(eu,{}),1===e&&(0,s.jsx)(eg,{}),2===e&&(0,s.jsx)(ev,{}),3===e&&(0,s.jsx)(em,{}),4===e&&(0,s.jsx)(ew,{})]}),(0,s.jsx)(u.$,{})]})}(a=n||(n={})).USER="USER",a.ADMIN="ADMIN"},3832:function(e){e.exports={wrapper:"Footer_wrapper__OqLJV",border:"Footer_border__akEkX"}},1881:function(e){e.exports={toolbar:"Header_toolbar__bvF_h"}}},function(e){e.O(0,[558,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);